<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏≠‡∏≠‡∏Å‡∏á‡∏≤‡∏ô</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script src="https://static.line-scdn.net/liff/edge/2.1/sdk.js"></script>
  <style>
    /* ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö overlay ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡πÇ‡∏´‡∏•‡∏î */
    #loadingOverlay {
      display: none;
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgb(255 255 255 / 80%);
      align-items: center;
      justify-content: center;
      z-index: 1000;
    }

    /* ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö container ‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÇ‡∏´‡∏•‡∏î */
    .loading-container {
      position: relative;
    }

    /* ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡∏û‡∏£‡∏¥‡∏ö‡∏Ç‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° */
    @keyframes blink {
      0%,
      100% {
        opacity: 1;
      }

      50% {
        opacity: 0.5;
      }
    }

    .blink {
      animation: blink 1s infinite;
    }
  </style>
</head>

<body class="bg-slate-100 h-screen">
  <div class="max-w-md mx-auto bg-white p-8 m-2 rounded-lg shadow-md">
    <div class="p-2">
      <span>üëãüèª ‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö‡∏Ñ‡∏∏‡∏ì </span>
      <input type="text" id="displayName" name="displayName">
    </div>
    <div class="bg-green-200 border rounded-lg text-slate-800 text-center my-4 py-8 px-4">
      <div class="daytime">
        <div id="date"></div>
        <div class="text-5xl text-bold text-red-500" id="time"></div>
        <input type="date" id="todayInput" name="todayInput" class="hidden">
        <input type="time" id="currentTime" name="currentTime" class="hidden">
      </div>
    </div>
    <div id="step1">
      <div class="loading-container bg-slate-100 p-4 rounded-lg">
        <div id="loadingOverlay">
          <div class="text-center text-gray-800">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠..</div>
        </div>
        <div class="flex items-center space-x-2 mb-2">
          <input type="text" class="input-field w-full border border-gray-300 p-2 rounded" id="columnBData"
            placeholder="‡∏ä‡∏∑‡πà‡∏≠-‡∏™‡∏Å‡∏∏‡∏•" name="columnBData" required>
        </div>
        <div class="flex items-center space-x-2 mb-2">
          <input type="text" class="input-field w-full border border-gray-300 p-2 rounded" id="columnCData"
            placeholder="‡∏£‡∏´‡∏±‡∏™‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô" name="columnCData" required>
        </div>
        <div class="flex items-center space-x-2 mb-2">
          <input type="text" class="input-field w-full border border-gray-300 p-2 rounded" id="columnDData"
            placeholder="‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á" name="columnDData" required>
        </div>
        <div class="flex items-center space-x-2 mb-2">
          <input type="text" class="input-field w-full border border-gray-300 p-2 rounded text-red-500"
            id="bonusPoint" value="üèÜ Bonus Point: " readonly>
        </div>

      <div class="switch-field mt-4 mb-4 space-y-2">
        <div class="flex items-center space-x-2 w-full">
          <input type="radio" id="radio-three" name="switch-job" value="‡πÄ‡∏Ç‡πâ‡∏≤‡∏á‡∏≤‡∏ô" class="hidden " />
          <label for="radio-three" class="cursor-pointer border border-gray-300 px-4 py-3 rounded-lg w-full text-center">
            ‡πÄ‡∏Ç‡πâ‡∏≤‡∏á‡∏≤‡∏ô
          </label>
        </div>
        <div class="flex items-center space-x-2 w-full">
          <input type="radio" id="radio-four" name="switch-job" value="‡∏ä‡πà‡∏ß‡∏á‡∏ö‡πà‡∏≤‡∏¢" class="hidden " />
          <label for="radio-four" class="cursor-pointer border border-gray-300 px-4 py-3 rounded-lg w-full text-center">
            ‡∏ä‡πà‡∏ß‡∏á‡∏ö‡πà‡∏≤‡∏¢
          </label>
        </div>
        <div class="flex items-center space-x-2 w-full">
          <input type="radio" id="radio-five" name="switch-job" value="‡∏≠‡∏≠‡∏Å‡∏á‡∏≤‡∏ô" class="hidden " />
          <label for="radio-five" class="cursor-pointer border border-gray-300 px-4 py-3 rounded-lg w-full text-center">
            ‡∏≠‡∏≠‡∏Å‡∏á‡∏≤‡∏ô
          </label>
        </div>
      </div>
      <input type="hidden" id="jobInput" name="jobInput" required>
      <textarea class="input-field w-full border border-gray-300 rounded-lg p-4 text-gray-700" placeholder="Note"
        id="noteInput"></textarea>
      <div class="bg-green-200 slate-800 text-center rounded-lg my-4">
        <button class="p-4 w-full" onclick="nextStep()">‡∏ñ‡∏±‡∏î‡πÑ‡∏õ</button>
      </div>
    </div>

    <div id="step2" class="hidden text-center">
      <div class="photo" class="max-w-md w-[640px] h-[420px] p-[5px]">
        <center>
          <video id="camera-preview" width="80%" height="auto" autoplay playsinline
            poster="https://upload.wikimedia.org/wikipedia/commons/thumb/6/65/No-Image-Placeholder.svg/330px-No-Image-Placeholder.svg.png"
            class="rounded-lg mt-2 "></video>
        </center>
        <center><img id="preview" width="80%" height="auto" alt="" required class="rounded-lg mt-2 "></center>
        <div class="flex justify-center space-x-4 my-4 px-8">
          <button class="w-full text-center py-2 px-4 rounded-lg bg-yellow-500 text-white " id="start-camera-btn">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏õ‡∏¥‡∏î‡∏Å‡∏•‡πâ‡∏≠‡∏á</button>
          <button class="w-full text-center py-4 px-4 rounded-lg bg-green-500 text-white" id="capture-btn"
            disabled="">‡∏ñ‡πà‡∏≤‡∏¢‡∏£‡∏π‡∏õ</button>
        </div>
      </div>
      <div class="input-group my-4 py-4 flex justify-between">
        <button class="w-full text-center p-4¬† m-2 rounded-lg bg-gray-300" onclick="prevStep()">‡∏Å‡∏•‡∏±‡∏ö</button>
        <button class="w-full text-center p-4 m-2 rounded-lg bg-green-200 slate-800"
          onclick="checkPictureAndNextStep()">‡∏ñ‡∏±‡∏î‡πÑ‡∏õ</button>
      </div>
    </div>

    <div id="step3" class="hidden text-center">
      <div class="submit">
        <div class="w-full mb-4 rounded-lg bg-slate-800 text-white">
          <button type="button" onclick="getLocation()" class="w-full p-4 rounded-lg blink">‡∏Å‡∏î‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</button>
        </div>
        <div id="locationInfo" name="locationInfo" class="bg-white p-4 rounded-lg shadow-sm max-w-sm mx-auto my-4">
          <div class="flex justify-between">
            <p id="latitude" class="text-gray-700 font-medium pb-2">Latitude: </p>
            <p id="longitude" class="text-gray-700 font-medium pb-2">Longitude: </p>
          </div>
          <p id="fullAddress">‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà</p>
        </div>

        <input type="hidden" id="latitudeInput" name="latitudeInput">
        <input type="hidden" id="longitudeInput" name="longitudeInput">
        <input type="hidden" id="fullAddressInput" name="fullAddressInput" required>
      </div>

      <iframe id="mapIframe" class="p-2 rounded-lg shadow-md" width="100%" height="240" frameborder="0" style="border:0;"
        allowfullscreen="" aria-hidden="false" tabindex="0"></iframe>
      <div class="input-group my-4 py-4 flex justify-between">
        <button class="w-1/4 text-center p-4¬† m-2 rounded-lg bg-gray-300" onclick="prevStep()">‡∏Å‡∏•‡∏±‡∏ö</button>
        <button id="submitButton" class="w-3/4 text-center p-4 m-2 rounded-lg bg-green-200 slate-800"
          onclick="submitForm()">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>
      </div>
    </div>
  </div>
</body>
<script>

  // ‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏Ñ‡πà‡∏≤ URL ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ö Web App
  const WEB_APP_MEMBER_URL = 'https://script.google.com/macros/s/AKfycbxDpxZqliJAcwF5YXZeApOdoWj1OXtDFa54iMAECKaNQf1mXwPRE_yhi8G1Rj-nxLV2VA/exec ';
  const WEB_APP_URL = 'https://script.google.com/macros/s/AKfycbxOPOTCdmfclGOzIoHO4bYdecpfe45j-VLNqhofaC2W6HozgtG3rEICaWKp7lOlSu9wdQ/exec ';
  const LIFF_ID = '2006738214-Q2Yrq7M7'; // Liff ID

  // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÇ‡∏´‡∏•‡∏î‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå
  window.onload = async function () {
    await initializeLiff();
  };

  // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô LIFF (LINE Front-end Framework)
  async function initializeLiff() {
    try {
      // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô LIFF ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ LIFF ID ‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î
      await liff.init({ liffId: `${LIFF_ID}` });
      // ‡∏ñ‡πâ‡∏≤‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏•‡πâ‡∏ß ‡∏à‡∏∞‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå
      if (liff.isLoggedIn()) {
        getUserProfile();
      } else {
        // ‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö ‡∏à‡∏∞‡∏û‡∏≤‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏´‡∏ô‡πâ‡∏≤‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô
        liff.login();
      }
    } catch (error) {
      // ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Ç‡∏ì‡∏∞‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô LIFF ‡∏à‡∏∞‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏•‡πá‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Ñ‡∏≠‡∏ô‡πÇ‡∏ã‡∏•
      console.error('Error initializing LIFF:', error);
    }
  }

  // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏à‡∏≤‡∏Å LIFF
  async function getUserProfile() {
    try {
      // ‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ
      const profile = await liff.getProfile();
      const userId = profile.userId;
      // ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ñ‡πà‡∏≤ userId ‡πÅ‡∏•‡∏∞ displayName ‡πÉ‡∏ô‡∏ü‡∏≠‡∏£‡πå‡∏°
      document.getElementById('userId').value = userId;
      document.getElementById('displayName').value = profile.displayName;
      // ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ userId
      await fetchData(userId);
    } catch (error) {
      // ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå ‡∏à‡∏∞‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏•‡πá‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Ñ‡∏≠‡∏ô‡πÇ‡∏ã‡∏•
      console.error('Error getting profile data:', error);
    }
  }

  // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡∏à‡∏≤‡∏Å Google Apps Script ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ userId
  async function fetchData(userId) {
    showLoading(true); // ‡πÅ‡∏™‡∏î‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡πÇ‡∏´‡∏•‡∏î
    try {
      // ‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠‡πÑ‡∏õ‡∏¢‡∏±‡∏á Google Apps Script ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
      const response = await fetch(`${WEB_APP_MEMBER_URL}`, {
        method: 'POST',
        body: JSON.stringify({ action: 'fetchData', userId: userId })
      });
      const data = await response.json();
      // ‡∏Å‡∏£‡∏≠‡∏á‡πÅ‡∏ñ‡∏ß‡∏ó‡∏µ‡πà‡∏°‡∏µ userId ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£
      const userRows = data.filter(row => row[1] === userId);
      if (userRows.length > 0) {
        // ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏≤‡∏°‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà (‡∏™‡∏°‡∏°‡∏ï‡∏¥‡∏ß‡πà‡∏≤‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå‡∏ó‡∏µ‡πà 5) ‡∏à‡∏≤‡∏Å‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡πÑ‡∏õ‡πÄ‡∏Å‡πà‡∏≤‡∏™‡∏∏‡∏î
        userRows.sort((a, b) => new Date(b[6]) - new Date(a[6]));
        displayData(userRows[0]); // ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î

        //  ‡∏î‡∏∂‡∏á Bonus Point (‡∏™‡∏°‡∏°‡∏ï‡∏¥‡∏ß‡πà‡∏≤‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå‡∏ó‡∏µ‡πà 7)
        const bonusPoint = userRows[0][7] || 0; 
        document.getElementById('bonusPoint').value = "üèÜ Bonus Point: " + bonusPoint;

      } else {
        // ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö userId ‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÉ‡∏ô‡∏Ñ‡∏≠‡∏ô‡πÇ‡∏ã‡∏•
        console.log('No data found for userId:', userId);
      }
    } catch (error) {
      // ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ‡∏à‡∏∞‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏•‡πá‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Ñ‡∏≠‡∏ô‡πÇ‡∏ã‡∏•
      console.error('Error fetching data:', error);
    } finally {
      showLoading(false); // ‡∏ã‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡πÇ‡∏´‡∏•‡∏î
    }
  }

  // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å fetchData ‡∏•‡∏á‡πÉ‡∏ô‡∏ü‡∏≠‡∏£‡πå‡∏°
  function displayData(row) {
    document.getElementById('columnAData').value = row[1] || '';
    document.getElementById('columnBData').value = row[2] || '';
    document.getElementById('columnCData').value = row[3] || '';
    document.getElementById('columnDData').value = row[4] || '';
    document.getElementById('columnEData').value = row[5] || '';
    document.getElementById('columnFData').value = row[6] || '';
  }

  // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏´‡∏£‡∏∑‡∏≠‡∏ã‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡πÇ‡∏´‡∏•‡∏î
  function showLoading(isLoading) {
    const overlay = document.getElementById('loadingOverlay');
    const inputs = document.querySelectorAll('.input-field');
    if (isLoading) {
      // ‡πÅ‡∏™‡∏î‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡πÇ‡∏´‡∏•‡∏î‡πÅ‡∏•‡∏∞‡∏õ‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ü‡∏¥‡∏•‡∏î‡πå input
      overlay.style.display = 'flex';
      inputs.forEach(input => input.disabled = true);
    } else {
      // ‡∏ã‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡πÇ‡∏´‡∏•‡∏î‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ü‡∏¥‡∏•‡∏î‡πå input
      overlay.style.display = 'none';
      inputs.forEach(input => input.disabled = false);
    }
  }

  // ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Å‡∏±‡∏ö‡∏Å‡∏•‡πâ‡∏≠‡∏á‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
  const url = `${WEB_APP_URL}`;
  const video = document.getElementById('
